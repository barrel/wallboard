/*
wallboard - v - 2014-12-12
An app to make a dashboard for the wallboard.
Lovingly coded by BarrelNY Developers  - http://barrelny.com 
*/
google.load("feeds","1");var wallboard={init:function(){this.update_weather(),this.photo_slider(),this.weather=window.setInterval(wallboard.update_weather,6e4),this.time=window.setInterval(wallboard.update_time,3e4)},update_time:function(){var a=new Date,b=a.getHours(),c="a";b>12&&(b-=12,c="p");var d=("0"+a.getMinutes()).slice(-2);$(".time").html(b+":"+d+' <span class="meridiem">'+c+"</span>")},update_weather:function(){$.ajax({url:siteUrl+"inc/ajax/weather.php",type:"GET"}).done(function(a){weather=JSON.parse(a),$(".now-icon").html(weather.now_icon),$(".now-temp").html(weather.now_temperature+"<sup>&deg;</sup>"),$(".now-low").html(weather.now_low+"<sup>&deg;</sup>"),$(".now-high").html(weather.now_high+"<sup>&deg;</sup>"),$(".next-hour").html(weather.next_hour_icon+weather.next_hour_temperature+"<sup>&deg;</sup>"),$(".tomorrow").html(weather.tomorrow_icon+weather.tomorrow_temperature+"<sup>&deg;</sup>"),$(".two-days").html(weather.next_icon+weather.next_temperature+"<sup>&deg;</sup>"),$(".updated-datetime").html("Last updated:"+weather.date)})},photo_slider:function(){wallboard.images=document.getElementById("slideshow").getElementsByTagName("img"),wallboard.numberOfImages=wallboard.images.length,wallboard.i=1,document.getElementById("slideshow").getElementsByTagName("img")[0].className="fx",window.setInterval(wallboard.kenburns,5e3)},kenburns:function(){wallboard.i==wallboard.numberOfImages&&(wallboard.i=0),wallboard.images[wallboard.i].className="fx",0===wallboard.i&&(wallboard.images[wallboard.numberOfImages-2].className=""),1===wallboard.i&&(wallboard.images[wallboard.numberOfImages-1].className=""),wallboard.i>1&&(wallboard.images[wallboard.i-2].className=""),wallboard.i++}};$(function(){wallboard.init()});